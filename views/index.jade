extends layout

block content
    include navbar.jade
    +navbar('#')
    // Add logout link/button somewhere at the top of the page
    - if (logout)
        .alert.alert-success.alert-dismissable(role="alert")
            button.close(data-dismiss="alert")
                span(aria-hidden="true") &times;
                span.sr-only Close
            strong You are now logged out. See you soon! :)
    - else if (newUser && user)
        .alert.alert-success.alert-dismissable(role="alert")
            button.close(data-dismiss="alert")
                span(aria-hidden="true") &times;
                span.sr-only Close
            strong Welcome to git-lesson, #{user.username}!
    - if (!user)
        .jumbotron
            .container
                h1#title #{title}_
                p Share coding tips and lessons right from your commits!
                a(href="/login")
                    button#loginButton.btn.btn-medium.btn-primary
                        span Log in with GitHub
                        i.fa.fa-github
    - else
        h1#title #{title}_
    - if (tips)
        h3 Latest tips
        each tip, index in tips
            .lesson
                .header
                    a.repoLink.pull-right(href="#{tip.repo.url}/commit/#{tip.lesson.commitId}") Source commit
                    a.permalink.pull-right(href="/lesson/#{tip.lesson.id}") Permalink
                    .lessonDate.pull-right #{tip.lesson.postDate}
                .lessonText 
                    != tip.lesson.postHtml
    script.
        
